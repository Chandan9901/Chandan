<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeBrowse Search</title>
    <style>
        body { font-family: sans-serif; background: #f4f4f9; display: flex; justify-content: center; height: 100vh; align-items: center; }
        .card { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); text-align: center; max-width: 400px; width: 100%; }
        input { width: 90%; padding: 10px; margin: 15px 0; border: 1px solid #ccc; border-radius: 5px; }
        .btn-group { display: flex; gap: 10px; justify-content: center; }
        button { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; color: white; font-weight: bold; }
        .google { background: #4285F4; }
        .youtube { background: #FF0000; }
        .wiki { background: #000; }
        #msg { margin-top: 15px; font-size: 14px; display: none; padding: 10px; border-radius: 5px; }
        .error { background: #ffcccc; color: #cc0000; }
        .safe { background: #ccffcc; color: #006600; }
    </style>
    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            // ‚úÖ Your Public Key is here:
            emailjs.init("ow7lbBw-29UnryhgE"); 
        })();
    </script>
</head>
<body>

<div class="card">
    <h2>ü¶Å SafeBrowse</h2>
    <p>Safe Search Engine for Kids</p>
    
    <input type="text" id="searchBox" placeholder="Search something...">
    
    <div class="btn-group">
        <button class="google" onclick="checkSafe('google')">Google</button>
        <button class="youtube" onclick="checkSafe('youtube')">YouTube</button>
        <button class="wiki" onclick="checkSafe('wiki')">Wiki</button>
    </div>

    <div id="msg"></div>
</div>

<script>
    // ‚úÖ Your Service ID and Template ID are here:
    const serviceID = "service_w6e9m0l";
    const templateID = "template_42tnaeh";

    const badWords = ["porn", "xxx", "sex", "kill", "drug", "18+"];

    function checkSafe(platform) {
        let text = document.getElementById("searchBox").value.toLowerCase();
        let msgBox = document.getElementById("msg");

        // 1. Check for bad words
        let isUnsafe = badWords.some(word => text.includes(word));

        if (isUnsafe) {
            // BLOCK IT & SEND EMAIL
            msgBox.style.display = "block";
            msgBox.className = "error";
            msgBox.innerHTML = "‚ö†Ô∏è Unsafe content! Sending alert to parent...";

            // Send Email Function
            emailjs.send(serviceID, templateID, {
                message: text,  // This sends the bad word to the parent
                to_name: "Parent"
            })
            .then(function() {
                msgBox.innerHTML = "üö´ BLOCKED. Alert sent to parent's email.";
            }, function(error) {
                msgBox.innerHTML = "üö´ BLOCKED. (Email failed: " + JSON.stringify(error) + ")";
            });

        } else {
            // ALLOW IT
            msgBox.style.display = "block";
            msgBox.className = "safe";
            msgBox.innerHTML = "‚úÖ Safe search. Opening...";
            
            setTimeout(() => {
                if(platform === 'google') window.location.href = "https://www.google.com/search?q=" + text;
                if(platform === 'youtube') window.location.href = "https://www.youtube.com/results?search_query=" + text;
                if(platform === 'wiki') window.location.href = "https://en.wikipedia.org/wiki/" + text;
            }, 1000);
        }
    }
</script>

</body>
</html>
